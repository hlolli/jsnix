var window;var Module=typeof Module!=="undefined"?Module:{};(function(root,factory){if(typeof define==="function"&&define.amd){define([],factory)}else if(typeof exports==="object"){module.exports=factory()}else{window.TreeSitter=factory()}})(this,function(){var moduleOverrides={};var key;for(key in Module){if(Module.hasOwnProperty(key)){moduleOverrides[key]=Module[key]}}var arguments_=[];var thisProgram="./this.program";var quit_=function(status,toThrow){throw toThrow};var ENVIRONMENT_IS_WEB=false;var ENVIRONMENT_IS_WORKER=false;var ENVIRONMENT_IS_NODE=false;var ENVIRONMENT_IS_SHELL=false;ENVIRONMENT_IS_WEB=typeof window==="object";ENVIRONMENT_IS_WORKER=typeof importScripts==="function";ENVIRONMENT_IS_NODE=typeof process==="object"&&typeof process.versions==="object"&&typeof process.versions.node==="string";ENVIRONMENT_IS_SHELL=!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_NODE&&!ENVIRONMENT_IS_WORKER;var scriptDirectory="";function locateFile(path){if(Module["locateFile"]){return Module["locateFile"](path,scriptDirectory)}return scriptDirectory+path}var read_,readAsync,readBinary,setWindowTitle;var nodeFS;var nodePath;if(ENVIRONMENT_IS_NODE){if(ENVIRONMENT_IS_WORKER){scriptDirectory=require("path").dirname(scriptDirectory)+"/"}else{scriptDirectory=__dirname+"/"}read_=function shell_read(filename,binary){if(!nodeFS)nodeFS=require("fs");if(!nodePath)nodePath=require("path");filename=nodePath["normalize"](filename);return nodeFS["readFileSync"](filename,binary?null:"utf8")};readBinary=function readBinary(filename){var ret=read_(filename,true);if(!ret.buffer){ret=new Uint8Array(ret)}assert(ret.buffer);return ret};if(process["argv"].length>1){thisProgram=process["argv"][1].replace(/\\/g,"/")}arguments_=process["argv"].slice(2);if(typeof module!=="undefined"){module["exports"]=Module}quit_=function(status){process["exit"](status)};Module["inspect"]=function(){return"[Emscripten Module object]"}}else if(ENVIRONMENT_IS_SHELL){if(typeof read!="undefined"){read_=function shell_read(f){return read(f)}}readBinary=function readBinary(f){var data;if(typeof readbuffer==="function"){return new Uint8Array(readbuffer(f))}data=read(f,"binary");assert(typeof data==="object");return data};if(typeof scriptArgs!="undefined"){arguments_=scriptArgs}else if(typeof arguments!="undefined"){arguments_=arguments}if(typeof quit==="function"){quit_=function(status){quit(status)}}if(typeof print!=="undefined"){if(typeof console==="undefined")console={};console.log=print;console.warn=console.error=typeof printErr!=="undefined"?printErr:print}}else if(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER){if(ENVIRONMENT_IS_WORKER){scriptDirectory=self.location.href}else if(document.currentScript){scriptDirectory=document.currentScript.src}if(scriptDirectory.indexOf("blob:")!==0){scriptDirectory=scriptDirectory.substr(0,scriptDirectory.lastIndexOf("/")+1)}else{scriptDirectory=""}{read_=function shell_read(url){var xhr=new XMLHttpRequest;xhr.open("GET",url,false);xhr.send(null);return xhr.responseText};if(ENVIRONMENT_IS_WORKER){readBinary=function readBinary(url){var xhr=new XMLHttpRequest;xhr.open("GET",url,false);xhr.responseType="arraybuffer";xhr.send(null);return new Uint8Array(xhr.response)}}readAsync=function readAsync(url,onload,onerror){var xhr=new XMLHttpRequest;xhr.open("GET",url,true);xhr.responseType="arraybuffer";xhr.onload=function xhr_onload(){if(xhr.status==200||xhr.status==0&&xhr.response){onload(xhr.response);return}onerror()};xhr.onerror=onerror;xhr.send(null)}}setWindowTitle=function(title){document.title=title}}else{}var out=Module["print"]||console.log.bind(console);var err=Module["printErr"]||console.warn.bind(console);for(key in moduleOverrides){if(moduleOverrides.hasOwnProperty(key)){Module[key]=moduleOverrides[key]}}moduleOverrides=null;if(Module["arguments"])arguments_=Module["arguments"];if(Module["thisProgram"])thisProgram=Module["thisProgram"];if(Module["quit"])quit_=Module["quit"];var STACK_ALIGN=16;function dynamicAlloc(size){var ret=HEAP32[DYNAMICTOP_PTR>>2];var end=ret+size+15&-16;HEAP32[DYNAMICTOP_PTR>>2]=end;return ret}function alignMemory(size,factor){if(!factor)factor=STACK_ALIGN;return Math.ceil(size/factor)*factor}function getNativeTypeSize(type){switch(type){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:{if(type[type.length-1]==="*"){return 4}else if(type[0]==="i"){var bits=Number(type.substr(1));assert(bits%8===0,"getNativeTypeSize invalid bits "+bits+", type "+type);return bits/8}else{return 0}}}}var LDSO={nextHandle:1,loadedLibs:{"-1":{refcount:Infinity,name:"__self__",module:Module,global:true}},loadedLibNames:{"__self__":-1}};function fetchBinary(url){return fetch(url,{credentials:"same-origin"}).then(function(response){if(!response["ok"]){throw"failed to load binary file at '"+url+"'"}return response["arrayBuffer"]()}).then(function(buffer){return new Uint8Array(buffer)})}function asmjsMangle(x){var unmangledSymbols=["setTempRet0","getTempRet0","stackAlloc","stackSave","stackRestore","__growWasmMemory","__heap_base","__data_end"];return x.indexOf("dynCall_")==0||unmangledSymbols.indexOf(x)!=-1?x:"_"+x}function loadDynamicLibrary(lib,flags){flags=flags||{global:true,nodelete:true};var handle=LDSO.loadedLibNames[lib];var dso;if(handle){dso=LDSO.loadedLibs[handle];if(flags.global&&!dso.global){dso.global=true;if(dso.module!=="loading"){mergeLibSymbols(dso.module)}}if(flags.nodelete&&dso.refcount!==Infinity){dso.refcount=Infinity}dso.refcount++;return flags.loadAsync?Promise.resolve(handle):handle}handle=LDSO.nextHandle++;dso={refcount:flags.nodelete?Infinity:1,name:lib,module:"loading",global:flags.global};LDSO.loadedLibNames[lib]=handle;LDSO.loadedLibs[handle]=dso;function loadLibData(libFile){if(flags.fs){var libData=flags.fs.readFile(libFile,{encoding:"binary"});if(!(libData instanceof Uint8Array)){libData=new Uint8Array(lib_data)}return flags.loadAsync?Promise.resolve(libData):libData}if(flags.loadAsync){return fetchBinary(libFile)}return readBinary(libFile)}function createLibModule(libData){return loadWebAssemblyModule(libData,flags)}function getLibModule(){if(Module["preloadedWasm"]!==undefined&&Module["preloadedWasm"][lib]!==undefined){var libModule=Module["preloadedWasm"][lib];return flags.loadAsync?Promise.resolve(libModule):libModule}if(flags.loadAsync){return loadLibData(lib).then(function(libData){return createLibModule(libData)})}return createLibModule(loadLibData(lib))}function mergeLibSymbols(libModule){for(var sym in libModule){if(!libModule.hasOwnProperty(sym)){continue}var module_sym=asmjsMangle(sym);if(!Module.hasOwnProperty(module_sym)){Module[module_sym]=libModule[sym]}}}function moduleLoaded(libModule){if(dso.global){mergeLibSymbols(libModule)}dso.module=libModule}if(flags.loadAsync){return getLibModule().then(function(libModule){moduleLoaded(libModule);return handle})}moduleLoaded(getLibModule());return handle}function relocateExports(exports,memoryBase,tableBase,moduleLocal){var relocated={};for(var e in exports){var value=exports[e];if(typeof value==="object"){value=value.value}if(typeof value==="number"){value+=memoryBase}relocated[e]=value;if(moduleLocal){moduleLocal["_"+e]=value}}return relocated}function createInvokeFunction(sig){return function(){var sp=stackSave();try{return Module["dynCall_"+sig].apply(null,arguments)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}}function loadWebAssemblyModule(binary,flags){var int32View=new Uint32Array(new Uint8Array(binary.subarray(0,24)).buffer);assert(int32View[0]==1836278016,"need to see wasm magic number");assert(binary[8]===0,"need the dylink section to be first");var next=9;function getLEB(){var ret=0;var mul=1;while(1){var byte=binary[next++];ret+=(byte&127)*mul;mul*=128;if(!(byte&128))break}return ret}var sectionSize=getLEB();assert(binary[next]===6);next++;assert(binary[next]==="d".charCodeAt(0));next++;assert(binary[next]==="y".charCodeAt(0));next++;assert(binary[next]==="l".charCodeAt(0));next++;assert(binary[next]==="i".charCodeAt(0));next++;assert(binary[next]==="n".charCodeAt(0));next++;assert(binary[next]==="k".charCodeAt(0));next++;var memorySize=getLEB();var memoryAlign=getLEB();var tableSize=getLEB();var tableAlign=getLEB();var neededDynlibsCount=getLEB();var neededDynlibs=[];for(var i=0;i<neededDynlibsCount;++i){var nameLen=getLEB();var nameUTF8=binary.subarray(next,next+nameLen);next+=nameLen;var name=UTF8ArrayToString(nameUTF8,0);neededDynlibs.push(name)}function loadModule(){memoryAlign=Math.pow(2,memoryAlign);tableAlign=Math.pow(2,tableAlign);memoryAlign=Math.max(memoryAlign,STACK_ALIGN);var memoryBase=alignMemory(getMemory(memorySize+memoryAlign),memoryAlign);var env=asmLibraryArg;var table=wasmTable;var tableBase=table.length;var originalTable=table;table.grow(tableSize);assert(table===originalTable);for(var i=memoryBase;i<memoryBase+memorySize;i++){HEAP8[i]=0}for(var i=tableBase;i<tableBase+tableSize;i++){table.set(i,null)}var moduleLocal={};var resolveSymbol=function(sym,type,legalized){if(legalized){sym="orig$"+sym}var resolved=Module["asm"][sym];if(!resolved){var mangled=asmjsMangle(sym);resolved=Module[mangled];if(!resolved){resolved=moduleLocal[mangled]}if(!resolved&&sym.startsWith("invoke_")){resolved=createInvokeFunction(sym.split("_")[1])}}return resolved};for(var x in Module){if(!(x in env)){env[x]=Module[x]}}var proxyHandler={"get":function(obj,prop){switch(prop){case"__memory_base":case"gb":return memoryBase;case"__table_base":case"fb":return tableBase}if(prop in obj){return obj[prop]}if(prop.startsWith("g$")){var name=prop.substr(2);return obj[prop]=function(){return resolveSymbol(name,"global")}}if(prop.startsWith("fp$")){var parts=prop.split("$");assert(parts.length==3);var name=parts[1];var sig=parts[2];var legalized=sig.indexOf("j")>=0;var fp=0;return obj[prop]=function(){if(!fp){var f=resolveSymbol(name,"function",legalized);fp=addFunction(f,sig)}return fp}}return obj[prop]=function(){return resolveSymbol(prop,"function").apply(null,arguments)}}};var proxy=new Proxy(env,proxyHandler);var info={global:{"NaN":NaN,Infinity:Infinity},"global.Math":Math,env:proxy,wasi_snapshot_preview1:proxy};function postInstantiation(instance,moduleLocal){var exports=relocateExports(instance.exports,memoryBase,tableBase,moduleLocal);var init=exports["__post_instantiate"];if(init){if(runtimeInitialized){init()}else{__ATINIT__.push(init)}}return exports}if(flags.loadAsync){return WebAssembly.instantiate(binary,info).then(function(result){return postInstantiation(result.instance,moduleLocal)})}else{var instance=new WebAssembly.Instance(new WebAssembly.Module(binary),info);return postInstantiation(instance,moduleLocal)}}if(flags.loadAsync){return Promise.all(neededDynlibs.map(function(dynNeeded){return loadDynamicLibrary(dynNeeded,flags)})).then(function(){return loadModule()})}neededDynlibs.forEach(function(dynNeeded){loadDynamicLibrary(dynNeeded,flags)});return loadModule()}Module["loadWebAssemblyModule"]=loadWebAssemblyModule;function convertJsFunctionToWasm(func,sig){if(typeof WebAssembly.Function==="function"){var typeNames={"i":"i32","j":"i64","f":"f32","d":"f64"};var type={parameters:[],results:sig[0]=="v"?[]:[typeNames[sig[0]]]};for(var i=1;i<sig.length;++i){type.parameters.push(typeNames[sig[i]])}return new WebAssembly.Function(type,func)}var typeSection=[1,0,1,96];var sigRet=sig.slice(0,1);var sigParam=sig.slice(1);var typeCodes={"i":127,"j":126,"f":125,"d":124};typeSection.push(sigParam.length);for(var i=0;i<sigParam.length;++i){typeSection.push(typeCodes[sigParam[i]])}if(sigRet=="v"){typeSection.push(0)}else{typeSection=typeSection.concat([1,typeCodes[sigRet]])}typeSection[1]=typeSection.length-2;var bytes=new Uint8Array([0,97,115,109,1,0,0,0].concat(typeSection,[2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0]));var module=new WebAssembly.Module(bytes);var instance=new WebAssembly.Instance(module,{"e":{"f":func}});var wrappedFunc=instance.exports["f"];return wrappedFunc}var freeTableIndexes=[];var functionsInTableMap;function addFunctionWasm(func,sig){var table=wasmTable;if(!functionsInTableMap){functionsInTableMap=new WeakMap;for(var i=0;i<table.length;i++){var item=table.get(i);if(item){functionsInTableMap.set(item,i)}}}if(functionsInTableMap.has(func)){return functionsInTableMap.get(func)}var ret;if(freeTableIndexes.length){ret=freeTableIndexes.pop()}else{ret=table.length;try{table.grow(1)}catch(err){if(!(err instanceof RangeError)){throw err}throw"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH."}}try{table.set(ret,func)}catch(err){if(!(err instanceof TypeError)){throw err}var wrapped=convertJsFunctionToWasm(func,sig);table.set(ret,wrapped)}functionsInTableMap.set(func,ret);return ret}function addFunction(func,sig){return addFunctionWasm(func,sig)}var tempRet0=0;var setTempRet0=function(value){tempRet0=value};var GLOBAL_BASE=1024;GLOBAL_BASE=alignMemory(GLOBAL_BASE,1);var wasmBinary;if(Module["wasmBinary"])wasmBinary=Module["wasmBinary"];var noExitRuntime;if(Module["noExitRuntime"])noExitRuntime=Module["noExitRuntime"];if(typeof WebAssembly!=="object"){abort("no native wasm support detected")}function setValue(ptr,value,type,noSafe){type=type||"i8";if(type.charAt(type.length-1)==="*")type="i32";if(noSafe){switch(type){case"i1":HEAP8[ptr>>0]=value;break;case"i8":HEAP8[ptr>>0]=value;break;case"i16":HEAP16[ptr>>1]=value;break;case"i32":HEAP32[ptr>>2]=value;break;case"i64":tempI64=[value>>>0,(tempDouble=value,+Math_abs(tempDouble)>=1?tempDouble>0?(Math_min(+Math_floor(tempDouble/4294967296),4294967295)|0)>>>0:~~+Math_ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[ptr>>2]=tempI64[0],HEAP32[ptr+4>>2]=tempI64[1];break;case"float":HEAPF32[ptr>>2]=value;break;case"double":HEAPF64[ptr>>3]=value;break;default:abort("invalid type for setValue: "+type)}}else{switch(type){case"i1":SAFE_HEAP_STORE(ptr|0,value|0,1);break;case"i8":SAFE_HEAP_STORE(ptr|0,value|0,1);break;case"i16":SAFE_HEAP_STORE(ptr|0,value|0,2);break;case"i32":SAFE_HEAP_STORE(ptr|0,value|0,4);break;case"i64":tempI64=[value>>>0,(tempDouble=value,+Math_abs(tempDouble)>=1?tempDouble>0?(Math_min(+Math_floor(tempDouble/4294967296),4294967295)|0)>>>0:~~+Math_ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],SAFE_HEAP_STORE(ptr|0,tempI64[0]|0,4),SAFE_HEAP_STORE(ptr+4|0,tempI64[1]|0,4);break;case"float":SAFE_HEAP_STORE_D(ptr|0,Math_fround(value),4);break;case"double":SAFE_HEAP_STORE_D(ptr|0,+value,8);break;default:abort("invalid type for setValue: "+type)}}}function getValue(ptr,type,noSafe){type=type||"i8";if(type.charAt(type.length-1)==="*")type="i32";if(noSafe){switch(type){case"i1":return HEAP8[ptr>>0];case"i8":return HEAP8[ptr>>0];case"i16":return HEAP16[ptr>>1];case"i32":return HEAP32[ptr>>2];case"i64":return HEAP32[ptr>>2];case"float":return HEAPF32[ptr>>2];case"double":return HEAPF64[ptr>>3];default:abort("invalid type for getValue: "+type)}}else{switch(type){case"i1":return SAFE_HEAP_LOAD(ptr|0,1,0)|0;case"i8":return SAFE_HEAP_LOAD(ptr|0,1,0)|0;case"i16":return SAFE_HEAP_LOAD(ptr|0,2,0)|0;case"i32":return SAFE_HEAP_LOAD(ptr|0,4,0)|0;case"i64":return SAFE_HEAP_LOAD(ptr|0,8,0)|0;case"float":return Math_fround(SAFE_HEAP_LOAD_D(ptr|0,4,0));case"double":return+SAFE_HEAP_LOAD_D(ptr|0,8,0);default:abort("invalid type for getValue: "+type)}}return null}function getSafeHeapType(bytes,isFloat){switch(bytes){case 1:return"i8";case 2:return"i16";case 4:return isFloat?"float":"i32";case 8:return"double";default:assert(0)}}function SAFE_HEAP_STORE(dest,value,bytes,isFloat){if(dest<=0)abort("segmentation fault storing "+bytes+" bytes to address "+dest);if(dest%bytes!==0)abort("alignment error storing to address "+dest+", which was expected to be aligned to a multiple of "+bytes);if(dest+bytes>HEAPU32[DYNAMICTOP_PTR>>2])abort("segmentation fault, exceeded the top of the available dynamic heap when storing "+bytes+" bytes to address "+dest+". DYNAMICTOP="+HEAP32[DYNAMICTOP_PTR>>2]);assert(DYNAMICTOP_PTR);assert(HEAP32[DYNAMICTOP_PTR>>2]<=HEAP8.length);setValue(dest,value,getSafeHeapType(bytes,isFloat),1)}function SAFE_HEAP_STORE_D(dest,value,bytes){SAFE_HEAP_STORE(dest,value,bytes,true)}function SAFE_HEAP_LOAD(dest,bytes,unsigned,isFloat){if(dest<=0)abort("segmentation fault loading "+bytes+" bytes from address "+dest);if(dest%bytes!==0)abort("alignment error loading from address "+dest+", which was expected to be aligned to a multiple of "+bytes);if(dest+bytes>HEAPU32[DYNAMICTOP_PTR>>2])abort("segmentation fault, exceeded the top of the available dynamic heap when loading "+bytes+" bytes from address "+dest+". DYNAMICTOP="+HEAP32[DYNAMICTOP_PTR>>2]);assert(DYNAMICTOP_PTR);assert(HEAP32[DYNAMICTOP_PTR>>2]<=HEAP8.length);var type=getSafeHeapType(bytes,isFloat);var ret=getValue(dest,type,1);if(unsigned)ret=unSign(ret,parseInt(type.substr(1),10),1);return ret}function SAFE_HEAP_LOAD_D(dest,bytes,unsigned){return SAFE_HEAP_LOAD(dest,bytes,unsigned,true)}function segfault(){abort("segmentation fault")}function alignfault(){abort("alignment fault")}var wasmMemory;var wasmTable=new WebAssembly.Table({"initial":13,"element":"anyfunc"});var ABORT=false;var EXITSTATUS=0;function assert(condition,text){if(!condition){abort("Assertion failed: "+text)}}var ALLOC_NONE=3;function allocate(slab,types,allocator,ptr){var zeroinit,size;if(typeof slab==="number"){zeroinit=true;size=slab}else{zeroinit=false;size=slab.length}var singleType=typeof types==="string"?types:null;var ret;if(allocator==ALLOC_NONE){ret=ptr}else{ret=[_malloc,stackAlloc,dynamicAlloc][allocator](Math.max(size,singleType?1:types.length))}if(zeroinit){var stop;ptr=ret;assert((ret&3)==0);stop=ret+(size&~3);for(;ptr<stop;ptr+=4){HEAP32[ptr>>2]=0}stop=ret+size;while(ptr<stop){HEAP8[ptr++>>0]=0}return ret}if(singleType==="i8"){if(slab.subarray||slab.slice){HEAPU8.set(slab,ret)}else{HEAPU8.set(new Uint8Array(slab),ret)}return ret}var i=0,type,typeSize,previousType;while(i<size){var curr=slab[i];type=singleType||types[i];if(type===0){i++;continue}if(type=="i64")type="i32";setValue(ret+i,curr,type);if(previousType!==type){typeSize=getNativeTypeSize(type);previousType=type}i+=typeSize}return ret}function getMemory(size){if(!runtimeInitialized)return dynamicAlloc(size);return _malloc(size)}var UTF8Decoder=typeof TextDecoder!=="undefined"?new TextDecoder("utf8"):undefined;function UTF8ArrayToString(heap,idx,maxBytesToRead){var endIdx=idx+maxBytesToRead;var endPtr=idx;while(heap[endPtr]&&!(endPtr>=endIdx))++endPtr;if(endPtr-idx>16&&heap.subarray&&UTF8Decoder){return UTF8Decoder.decode(heap.subarray(idx,endPtr))}else{var str="";while(idx<endPtr){var u0=heap[idx++];if(!(u0&128)){str+=String.fromCharCode(u0);continue}var u1=heap[idx++]&63;if((u0&224)==192){str+=String.fromCharCode((u0&31)<<6|u1);continue}var u2=heap[idx++]&63;if((u0&240)==224){u0=(u0&15)<<12|u1<<6|u2}else{u0=(u0&7)<<18|u1<<12|u2<<6|heap[idx++]&63}if(u0<65536){str+=String.fromCharCode(u0)}else{var ch=u0-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023)}}}return str}function UTF8ToString(ptr,maxBytesToRead){return ptr?UTF8ArrayToString(HEAPU8,ptr,maxBytesToRead):""}function stringToUTF8Array(str,heap,outIdx,maxBytesToWrite){if(!(maxBytesToWrite>0))return 0;var startIdx=outIdx;var endIdx=outIdx+maxBytesToWrite-1;for(var i=0;i<str.length;++i){var u=str.charCodeAt(i);if(u>=55296&&u<=57343){var u1=str.charCodeAt(++i);u=65536+((u&1023)<<10)|u1&1023}if(u<=127){if(outIdx>=endIdx)break;heap[outIdx++]=u}else if(u<=2047){if(outIdx+1>=endIdx)break;heap[outIdx++]=192|u>>6;heap[outIdx++]=128|u&63}else if(u<=65535){if(outIdx+2>=endIdx)break;heap[outIdx++]=224|u>>12;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63}else{if(outIdx+3>=endIdx)break;heap[outIdx++]=240|u>>18;heap[outIdx++]=128|u>>12&63;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63}}heap[outIdx]=0;return outIdx-startIdx}function stringToUTF8(str,outPtr,maxBytesToWrite){return stringToUTF8Array(str,HEAPU8,outPtr,maxBytesToWrite)}function lengthBytesUTF8(str){var len=0;for(var i=0;i<str.length;++i){var u=str.charCodeAt(i);if(u>=55296&&u<=57343)u=65536+((u&1023)<<10)|str.charCodeAt(++i)&1023;if(u<=127)++len;else if(u<=2047)len+=2;else if(u<=65535)len+=3;else len+=4}return len}function AsciiToString(ptr){var str="";while(1){var ch=SAFE_HEAP_LOAD(ptr++|0,1,1)>>>0;if(!ch)return str;str+=String.fromCharCode(ch)}}function stringToUTF16(str,outPtr,maxBytesToWrite){if(maxBytesToWrite===undefined){maxBytesToWrite=2147483647}if(maxBytesToWrite<2)return 0;maxBytesToWrite-=2;var startPtr=outPtr;var numCharsToWrite=maxBytesToWrite<str.length*2?maxBytesToWrite/2:str.length;for(var i=0;i<numCharsToWrite;++i){var codeUnit=str.charCodeAt(i);SAFE_HEAP_STORE(outPtr|0,codeUnit|0,2);outPtr+=2}SAFE_HEAP_STORE(outPtr|0,0|0,2);return outPtr-startPtr}var WASM_PAGE_SIZE=65536;function alignUp(x,multiple){if(x%multiple>0){x+=multiple-x%multiple}return x}var buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function updateGlobalBufferAndViews(buf){buffer=buf;Module["HEAP8"]=HEAP8=new Int8Array(buf);Module["HEAP16"]=HEAP16=new Int16Array(buf);Module["HEAP32"]=HEAP32=new Int32Array(buf);Module["HEAPU8"]=HEAPU8=new Uint8Array(buf);Module["HEAPU16"]=HEAPU16=new Uint16Array(buf);Module["HEAPU32"]=HEAPU32=new Uint32Array(buf);Module["HEAPF32"]=HEAPF32=new Float32Array(buf);Module["HEAPF64"]=HEAPF64=new Float64Array(buf)}var STACK_BASE=5251008,DYNAMIC_BASE=5251008,DYNAMICTOP_PTR=7968;var INITIAL_INITIAL_MEMORY=Module["INITIAL_MEMORY"]||33554432;if(Module["wasmMemory"]){wasmMemory=Module["wasmMemory"]}else{wasmMemory=new WebAssembly.Memory({"initial":INITIAL_INITIAL_MEMORY/WASM_PAGE_SIZE,"maximum":2147483648/WASM_PAGE_SIZE})}if(wasmMemory){buffer=wasmMemory.buffer}INITIAL_INITIAL_MEMORY=buffer.byteLength;updateGlobalBufferAndViews(buffer);HEAP32[DYNAMICTOP_PTR>>2]=DYNAMIC_BASE;function callRuntimeCallbacks(callbacks){while(callbacks.length>0){var callback=callbacks.shift();if(typeof callback=="function"){callback(Module);continue}var func=callback.func;if(typeof func==="number"){if(callback.arg===undefined){Module["dynCall_v"](func)}else{Module["dynCall_vi"](func,callback.arg)}}else{func(callback.arg===undefined?null:callback.arg)}}}var __ATPRERUN__=[];var __ATINIT__=[];var __ATMAIN__=[];var __ATPOSTRUN__=[];var runtimeInitialized=false;var runtimeExited=false;function preRun(){if(Module["preRun"]){if(typeof Module["preRun"]=="function")Module["preRun"]=[Module["preRun"]];while(Module["preRun"].length){addOnPreRun(Module["preRun"].shift())}}callRuntimeCallbacks(__ATPRERUN__)}function initRuntime(){runtimeInitialized=true;callRuntimeCallbacks(__ATINIT__)}function preMain(){callRuntimeCallbacks(__ATMAIN__)}function exitRuntime(){runtimeExited=true}function postRun(){if(Module["postRun"]){if(typeof Module["postRun"]=="function")Module["postRun"]=[Module["postRun"]];while(Module["postRun"].length){addOnPostRun(Module["postRun"].shift())}}callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(cb){__ATPRERUN__.unshift(cb)}function addOnPostRun(cb){__ATPOSTRUN__.unshift(cb)}function unSign(value,bits,ignore){if(value>=0){return value}return bits<=32?2*Math.abs(1<<bits-1)+value:Math.pow(2,bits)+value}var Math_abs=Math.abs;var Math_ceil=Math.ceil;var Math_floor=Math.floor;var Math_fround=Math.fround;var Math_min=Math.min;var runDependencies=0;var runDependencyWatcher=null;var dependenciesFulfilled=null;function addRunDependency(id){runDependencies++;if(Module["monitorRunDependencies"]){Module["monitorRunDependencies"](runDependencies)}}function removeRunDependency(id){runDependencies--;if(Module["monitorRunDependencies"]){Module["monitorRunDependencies"](runDependencies)}if(runDependencies==0){if(runDependencyWatcher!==null){clearInterval(runDependencyWatcher);runDependencyWatcher=null}if(dependenciesFulfilled){var callback=dependenciesFulfilled;dependenciesFulfilled=null;callback()}}}Module["preloadedImages"]={};Module["preloadedAudios"]={};Module["preloadedWasm"]={};function abort(what){if(Module["onAbort"]){Module["onAbort"](what)}what+="";err(what);ABORT=true;EXITSTATUS=1;what="abort("+what+"). Build with -s ASSERTIONS=1 for more info.";var e=new WebAssembly.RuntimeError(what);throw e}addOnPreRun(function(){function loadDynamicLibraries(libs){if(libs){libs.forEach(function(lib){loadDynamicLibrary(lib,{global:true,nodelete:true})})}}if(Module["dynamicLibraries"]&&Module["dynamicLibraries"].length>0&&!readBinary){addRunDependency("preload_dynamicLibraries");Promise.all(Module["dynamicLibraries"].map(function(lib){return loadDynamicLibrary(lib,{loadAsync:true,global:true,nodelete:true})})).then(function(){removeRunDependency("preload_dynamicLibraries")});return}loadDynamicLibraries(Module["dynamicLibraries"])});function hasPrefix(str,prefix){return String.prototype.startsWith?str.startsWith(prefix):str.indexOf(prefix)===0}var dataURIPrefix="data:application/octet-stream;base64,";function isDataURI(filename){return hasPrefix(filename,dataURIPrefix)}var fileURIPrefix="file://";function isFileURI(filename){return hasPrefix(filename,fileURIPrefix)}var wasmBinaryFile="tree-sitter.wasm";if(!isDataURI(wasmBinaryFile)){wasmBinaryFile=locateFile(wasmBinaryFile)}function getBinary(){try{if(wasmBinary){return new Uint8Array(wasmBinary)}if(readBinary){return readBinary(wasmBinaryFile)}else{throw"both async and sync fetching of the wasm failed"}}catch(err){abort(err)}}function getBinaryPromise(){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&typeof fetch==="function"&&!isFileURI(wasmBinaryFile)){return fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(response){if(!response["ok"]){throw"failed to load wasm binary file at '"+wasmBinaryFile+"'"}return response["arrayBuffer"]()}).catch(function(){return getBinary()})}return Promise.resolve().then(getBinary)}function createWasm(){var info={"env":asmLibraryArg,"wasi_snapshot_preview1":asmLibraryArg};function receiveInstance(instance,module){var exports=instance.exports;exports=relocateExports(exports,GLOBAL_BASE,0);Module["asm"]=exports;removeRunDependency("wasm-instantiate")}addRunDependency("wasm-instantiate");function receiveInstantiatedSource(output){receiveInstance(output["instance"])}function instantiateArrayBuffer(receiver){return getBinaryPromise().then(function(binary){return WebAssembly.instantiate(binary,info)}).then(receiver,function(reason){err("failed to asynchronously prepare wasm: "+reason);abort(reason)})}function instantiateAsync(){if(!wasmBinary&&typeof WebAssembly.instantiateStreaming==="function"&&!isDataURI(wasmBinaryFile)&&!isFileURI(wasmBinaryFile)&&typeof fetch==="function"){fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(response){var result=WebAssembly.instantiateStreaming(response,info);return result.then(receiveInstantiatedSource,function(reason){err("wasm streaming compile failed: "+reason);err("falling back to ArrayBuffer instantiation");return instantiateArrayBuffer(receiveInstantiatedSource)})})}else{return instantiateArrayBuffer(receiveInstantiatedSource)}}if(Module["instantiateWasm"]){try{var exports=Module["instantiateWasm"](info,receiveInstance);return exports}catch(e){err("Module.instantiateWasm callback failed with error: "+e);return false}}instantiateAsync();return{}}var tempDouble;var tempI64;__ATINIT__.push({func:function(){___assign_got_enties()}},{func:function(){___wasm_call_ctors()}});function _abort(){abort()}Module["_abort"]=_abort;var _emscripten_get_now;if(ENVIRONMENT_IS_NODE){_emscripten_get_now=function(){var t=process["hrtime"]();return t[0]*1e3+t[1]/1e6}}else if(typeof dateNow!=="undefined"){_emscripten_get_now=dateNow}else _emscripten_get_now=function(){return performance.now()};var _emscripten_get_now_is_monotonic=true;function setErrNo(value){SAFE_HEAP_STORE(___errno_location()|0,value|0,4);return value}function _clock_gettime(clk_id,tp){var now;if(clk_id===0){now=Date.now()}else if((clk_id===1||clk_id===4)&&_emscripten_get_now_is_monotonic){now=_emscripten_get_now()}else{setErrNo(28);return-1}SAFE_HEAP_STORE(tp|0,now/1e3|0|0,4);SAFE_HEAP_STORE(tp+4|0,now%1e3*1e3*1e3|0|0,4);return 0}function _emscripten_memcpy_big(dest,src,num){HEAPU8.copyWithin(dest,src,src+num)}function _emscripten_get_heap_size(){return HEAPU8.length}function emscripten_realloc_buffer(size){try{wasmMemory.grow(size-buffer.byteLength+65535>>>16);updateGlobalBufferAndViews(wasmMemory.buffer);return 1}catch(e){}}function _emscripten_resize_heap(requestedSize){requestedSize=requestedSize>>>0;var oldSize=_emscripten_get_heap_size();var PAGE_MULTIPLE=65536;var maxHeapSize=2147483648;if(requestedSize>maxHeapSize){return false}var minHeapSize=16777216;for(var cutDown=1;cutDown<=4;cutDown*=2){var overGrownHeapSize=oldSize*(1+.2/cutDown);overGrownHeapSize=Math.min(overGrownHeapSize,requestedSize+100663296);var newSize=Math.min(maxHeapSize,alignUp(Math.max(minHeapSize,requestedSize,overGrownHeapSize),PAGE_MULTIPLE));var replacement=emscripten_realloc_buffer(newSize);if(replacement){return true}}return false}function _exit(status){exit(status)}function _setTempRet0($i){setTempRet0($i|0)}function _tree_sitter_log_callback(isLexMessage,messageAddress){if(currentLogCallback){const message=UTF8ToString(messageAddress);currentLogCallback(message,isLexMessage!==0)}}function _tree_sitter_parse_callback(inputBufferAddress,index,row,column,lengthAddress){var INPUT_BUFFER_SIZE=10*1024;var string=currentParseCallback(index,{row:row,column:column});if(typeof string==="string"){setValue(lengthAddress,string.length,"i32");stringToUTF16(string,inputBufferAddress,INPUT_BUFFER_SIZE)}else{setValue(lengthAddress,0,"i32")}}var gb=GLOBAL_BASE;var asmLibraryArg={"__memory_base":1024,"__stack_pointer":STACK_BASE,"__table_base":1,"abort":_abort,"alignfault":alignfault,"clock_gettime":_clock_gettime,"emscripten_memcpy_big":_emscripten_memcpy_big,"emscripten_resize_heap":_emscripten_resize_heap,"exit":_exit,"memory":wasmMemory,"segfault":segfault,"setTempRet0":_setTempRet0,"table":wasmTable,"tree_sitter_log_callback":_tree_sitter_log_callback,"tree_sitter_parse_callback":_tree_sitter_parse_callback};var asm=createWasm();var ___wasm_call_ctors=Module["___wasm_call_ctors"]=function(){return(___wasm_call_ctors=Module["___wasm_call_ctors"]=Module["asm"]["__wasm_call_ctors"]).apply(null,arguments)};var _ts_language_symbol_count=Module["_ts_language_symbol_count"]=function(){return(_ts_language_symbol_count=Module["_ts_language_symbol_count"]=Module["asm"]["ts_language_symbol_count"]).apply(null,arguments)};var _ts_language_version=Module["_ts_language_version"]=function(){return(_ts_language_version=Module["_ts_language_version"]=Module["asm"]["ts_language_version"]).apply(null,arguments)};var _ts_language_field_count=Module["_ts_language_field_count"]=function(){return(_ts_language_field_count=Module["_ts_language_field_count"]=Module["asm"]["ts_language_field_count"]).apply(null,arguments)};var _ts_language_symbol_name=Module["_ts_language_symbol_name"]=function(){return(_ts_language_symbol_name=Module["_ts_language_symbol_name"]=Module["asm"]["ts_language_symbol_name"]).apply(null,arguments)};var _ts_language_symbol_for_name=Module["_ts_language_symbol_for_name"]=function(){return(_ts_language_symbol_for_name=Module["_ts_language_symbol_for_name"]=Module["asm"]["ts_language_symbol_for_name"]).apply(null,arguments)};var _ts_language_symbol_type=Module["_ts_language_symbol_type"]=function(){return(_ts_language_symbol_type=Module["_ts_language_symbol_type"]=Module["asm"]["ts_language_symbol_type"]).apply(null,arguments)};var _ts_language_field_name_for_id=Module["_ts_language_field_name_for_id"]=function(){return(_ts_language_field_name_for_id=Module["_ts_language_field_name_for_id"]=Module["asm"]["ts_language_field_name_for_id"]).apply(null,arguments)};var _memcpy=Module["_memcpy"]=function(){return(_memcpy=Module["_memcpy"]=Module["asm"]["memcpy"]).apply(null,arguments)};var _free=Module["_free"]=function(){return(_free=Module["_free"]=Module["asm"]["free"]).apply(null,arguments)};var _calloc=Module["_calloc"]=function(){return(_calloc=Module["_calloc"]=Module["asm"]["calloc"]).apply(null,arguments)};var _ts_parser_delete=Module["_ts_parser_delete"]=function(){return(_ts_parser_delete=Module["_ts_parser_delete"]=Module["asm"]["ts_parser_delete"]).apply(null,arguments)};var _ts_parser_set_language=Module["_ts_parser_set_language"]=function(){return(_ts_parser_set_language=Module["_ts_parser_set_language"]=Module["asm"]["ts_parser_set_language"]).apply(null,arguments)};var _ts_parser_reset=Module["_ts_parser_reset"]=function(){return(_ts_parser_reset=Module["_ts_parser_reset"]=Module["asm"]["ts_parser_reset"]).apply(null,arguments)};var _ts_parser_timeout_micros=Module["_ts_parser_timeout_micros"]=function(){return(_ts_parser_timeout_micros=Module["_ts_parser_timeout_micros"]=Module["asm"]["ts_parser_timeout_micros"]).apply(null,arguments)};var _ts_parser_set_timeout_micros=Module["_ts_parser_set_timeout_micros"]=function(){return(_ts_parser_set_timeout_micros=Module["_ts_parser_set_timeout_micros"]=Module["asm"]["ts_parser_set_timeout_micros"]).apply(null,arguments)};var _ts_query_new=Module["_ts_query_new"]=function(){return(_ts_query_new=Module["_ts_query_new"]=Module["asm"]["ts_query_new"]).apply(null,arguments)};var _ts_query_delete=Module["_ts_query_delete"]=function(){return(_ts_query_delete=Module["_ts_query_delete"]=Module["asm"]["ts_query_delete"]).apply(null,arguments)};var _malloc=Module["_malloc"]=function(){return(_malloc=Module["_malloc"]=Module["asm"]["malloc"]).apply(null,arguments)};var _iswspace=Module["_iswspace"]=function(){return(_iswspace=Module["_iswspace"]=Module["asm"]["iswspace"]).apply(null,arguments)};var _ts_query_pattern_count=Module["_ts_query_pattern_count"]=function(){return(_ts_query_pattern_count=Module["_ts_query_pattern_count"]=Module["asm"]["ts_query_pattern_count"]).apply(null,arguments)};var _ts_query_capture_count=Module["_ts_query_capture_count"]=function(){return(_ts_query_capture_count=Module["_ts_query_capture_count"]=Module["asm"]["ts_query_capture_count"]).apply(null,arguments)};var _ts_query_string_count=Module["_ts_query_string_count"]=function(){return(_ts_query_string_count=Module["_ts_query_string_count"]=Module["asm"]["ts_query_string_count"]).apply(null,arguments)};var _ts_query_capture_name_for_id=Module["_ts_query_capture_name_for_id"]=function(){return(_ts_query_capture_name_for_id=Module["_ts_query_capture_name_for_id"]=Module["asm"]["ts_query_capture_name_for_id"]).apply(null,arguments)};var _ts_query_string_value_for_id=Module["_ts_query_string_value_for_id"]=function(){return(_ts_query_string_value_for_id=Module["_ts_query_string_value_for_id"]=Module["asm"]["ts_query_string_value_for_id"]).apply(null,arguments)};var _ts_query_predicates_for_pattern=Module["_ts_query_predicates_for_pattern"]=function(){return(_ts_query_predicates_for_pattern=Module["_ts_query_predicates_for_pattern"]=Module["asm"]["ts_query_predicates_for_pattern"]).apply(null,arguments)};var _memcmp=Module["_memcmp"]=function(){return(_memcmp=Module["_memcmp"]=Module["asm"]["memcmp"]).apply(null,arguments)};var _ts_tree_copy=Module["_ts_tree_copy"]=function(){return(_ts_tree_copy=Module["_ts_tree_copy"]=Module["asm"]["ts_tree_copy"]).apply(null,arguments)};var _ts_tree_delete=Module["_ts_tree_delete"]=function(){return(_ts_tree_delete=Module["_ts_tree_delete"]=Module["asm"]["ts_tree_delete"]).apply(null,arguments)};var _iswalnum=Module["_iswalnum"]=function(){return(_iswalnum=Module["_iswalnum"]=Module["asm"]["iswalnum"]).apply(null,arguments)};var _ts_init=Module["_ts_init"]=function(){return(_ts_init=Module["_ts_init"]=Module["asm"]["ts_init"]).apply(null,arguments)};var _ts_parser_new_wasm=Module["_ts_parser_new_wasm"]=function(){return(_ts_parser_new_wasm=Module["_ts_parser_new_wasm"]=Module["asm"]["ts_parser_new_wasm"]).apply(null,arguments)};var _ts_parser_enable_logger_wasm=Module["_ts_parser_enable_logger_wasm"]=function(){return(_ts_parser_enable_logger_wasm=Module["_ts_parser_enable_logger_wasm"]=Module["asm"]["ts_parser_enable_logger_wasm"]).apply(null,arguments)};var _ts_parser_parse_wasm=Module["_ts_parser_parse_wasm"]=function(){return(_ts_parser_parse_wasm=Module["_ts_parser_parse_wasm"]=Module["asm"]["ts_parser_parse_wasm"]).apply(null,arguments)};var _ts_language_type_is_named_wasm=Module["_ts_language_type_is_named_wasm"]=function(){return(_ts_language_type_is_named_wasm=Module["_ts_language_type_is_named_wasm"]=Module["asm"]["ts_language_type_is_named_wasm"]).apply(null,arguments)};var _ts_language_type_is_visible_wasm=Module["_ts_language_type_is_visible_wasm"]=function(){return(_ts_language_type_is_visible_wasm=Module["_ts_language_type_is_visible_wasm"]=Module["asm"]["ts_language_type_is_visible_wasm"]).apply(null,arguments)};var _ts_tree_root_node_wasm=Module["_ts_tree_root_node_wasm"]=function(){return(_ts_tree_root_node_wasm=Module["_ts_tree_root_node_wasm"]=Module["asm"]["ts_tree_root_node_wasm"]).apply(null,arguments)};var _ts_tree_edit_wasm=Module["_ts_tree_edit_wasm"]=function(){return(_ts_tree_edit_wasm=Module["_ts_tree_edit_wasm"]=Module["asm"]["ts_tree_edit_wasm"]).apply(null,arguments)};var _ts_tree_get_changed_ranges_wasm=Module["_ts_tree_get_changed_ranges_wasm"]=function(){return(_ts_tree_get_changed_ranges_wasm=Module["_ts_tree_get_changed_ranges_wasm"]=Module["asm"]["ts_tree_get_changed_ranges_wasm"]).apply(null,arguments)};var _ts_tree_cursor_new_wasm=Module["_ts_tree_cursor_new_wasm"]=function(){return(_ts_tree_cursor_new_wasm=Module["_ts_tree_cursor_new_wasm"]=Module["asm"]["ts_tree_cursor_new_wasm"]).apply(null,arguments)};var _ts_tree_cursor_delete_wasm=Module["_ts_tree_cursor_delete_wasm"]=function(){return(_ts_tree_cursor_delete_wasm=Module["_ts_tree_cursor_delete_wasm"]=Module["asm"]["ts_tree_cursor_delete_wasm"]).apply(null,arguments)};var _ts_tree_cursor_reset_wasm=Module["_ts_tree_cursor_reset_wasm"]=function(){return(_ts_tree_cursor_reset_wasm=Module["_ts_tree_cursor_reset_wasm"]=Module["asm"]["ts_tree_cursor_reset_wasm"]).apply(null,arguments)};var _ts_tree_cursor_goto_first_child_wasm=Module["_ts_tree_cursor_goto_first_child_wasm"]=function(){return(_ts_tree_cursor_goto_first_child_wasm=Module["_ts_tree_cursor_goto_first_child_wasm"]=Module["asm"]["ts_tree_cursor_goto_first_child_wasm"]).apply(null,arguments)};var _ts_tree_cursor_goto_next_sibling_wasm=Module["_ts_tree_cursor_goto_next_sibling_wasm"]=function(){return(_ts_tree_cursor_goto_next_sibling_wasm=Module["_ts_tree_cursor_goto_next_sibling_wasm"]=Module["asm"]["ts_tree_cursor_goto_next_sibling_wasm"]).apply(null,arguments)};var _ts_tree_cursor_goto_parent_wasm=Module["_ts_tree_cursor_goto_parent_wasm"]=function(){return(_ts_tree_cursor_goto_parent_wasm=Module["_ts_tree_cursor_goto_parent_wasm"]=Module["asm"]["ts_tree_cursor_goto_parent_wasm"]).apply(null,arguments)};var _ts_tree_cursor_current_node_type_id_wasm=Module["_ts_tree_cursor_current_node_type_id_wasm"]=function(){return(_ts_tree_cursor_current_node_type_id_wasm=Module["_ts_tree_cursor_current_node_type_id_wasm"]=Module["asm"]["ts_tree_cursor_current_node_type_id_wasm"]).apply(null,arguments)};var _ts_tree_cursor_current_node_is_named_wasm=Module["_ts_tree_cursor_current_node_is_named_wasm"]=function(){return(_ts_tree_cursor_current_node_is_named_wasm=Module["_ts_tree_cursor_current_node_is_named_wasm"]=Module["asm"]["ts_tree_cursor_current_node_is_named_wasm"]).apply(null,arguments)};var _ts_tree_cursor_current_node_is_missing_wasm=Module["_ts_tree_cursor_current_node_is_missing_wasm"]=function(){return(_ts_tree_cursor_current_node_is_missing_wasm=Module["_ts_tree_cursor_current_node_is_missing_wasm"]=Module["asm"]["ts_tree_cursor_current_node_is_missing_wasm"]).apply(null,arguments)};var _ts_tree_cursor_current_node_id_wasm=Module["_ts_tree_cursor_current_node_id_wasm"]=function(){return(_ts_tree_cursor_current_node_id_wasm=Module["_ts_tree_cursor_current_node_id_wasm"]=Module["asm"]["ts_tree_cursor_current_node_id_wasm"]).apply(null,arguments)};var _ts_tree_cursor_start_position_wasm=Module["_ts_tree_cursor_start_position_wasm"]=function(){return(_ts_tree_cursor_start_position_wasm=Module["_ts_tree_cursor_start_position_wasm"]=Module["asm"]["ts_tree_cursor_start_position_wasm"]).apply(null,arguments)};var _ts_tree_cursor_end_position_wasm=Module["_ts_tree_cursor_end_position_wasm"]=function(){return(_ts_tree_cursor_end_position_wasm=Module["_ts_tree_cursor_end_position_wasm"]=Module["asm"]["ts_tree_cursor_end_position_wasm"]).apply(null,arguments)};var _ts_tree_cursor_start_index_wasm=Module["_ts_tree_cursor_start_index_wasm"]=function(){return(_ts_tree_cursor_start_index_wasm=Module["_ts_tree_cursor_start_index_wasm"]=Module["asm"]["ts_tree_cursor_start_index_wasm"]).apply(null,arguments)};var _ts_tree_cursor_end_index_wasm=Module["_ts_tree_cursor_end_index_wasm"]=function(){return(_ts_tree_cursor_end_index_wasm=Module["_ts_tree_cursor_end_index_wasm"]=Module["asm"]["ts_tree_cursor_end_index_wasm"]).apply(null,arguments)};var _ts_tree_cursor_current_field_id_wasm=Module["_ts_tree_cursor_current_field_id_wasm"]=function(){return(_ts_tree_cursor_current_field_id_wasm=Module["_ts_tree_cursor_current_field_id_wasm"]=Module["asm"]["ts_tree_cursor_current_field_id_wasm"]).apply(null,arguments)};var _ts_tree_cursor_current_node_wasm=Module["_ts_tree_cursor_current_node_wasm"]=function(){return(_ts_tree_cursor_current_node_wasm=Module["_ts_tree_cursor_current_node_wasm"]=Module["asm"]["ts_tree_cursor_current_node_wasm"]).apply(null,arguments)};var _ts_node_symbol_wasm=Module["_ts_node_symbol_wasm"]=function(){return(_ts_node_symbol_wasm=Module["_ts_node_symbol_wasm"]=Module["asm"]["ts_node_symbol_wasm"]).apply(null,arguments)};var _ts_node_child_count_wasm=Module["_ts_node_child_count_wasm"]=function(){return(_ts_node_child_count_wasm=Module["_ts_node_child_count_wasm"]=Module["asm"]["ts_node_child_count_wasm"]).apply(null,arguments)};var _ts_node_named_child_count_wasm=Module["_ts_node_named_child_count_wasm"]=function(){return(_ts_node_named_child_count_wasm=Module["_ts_node_named_child_count_wasm"]=Module["asm"]["ts_node_named_child_count_wasm"]).apply(null,arguments)};var _ts_node_child_wasm=Module["_ts_node_child_wasm"]=function(){return(_ts_node_child_wasm=Module["_ts_node_child_wasm"]=Module["asm"]["ts_node_child_wasm"]).apply(null,arguments)};var _ts_node_named_child_wasm=Module["_ts_node_named_child_wasm"]=function(){return(_ts_node_named_child_wasm=Module["_ts_node_named_child_wasm"]=Module["asm"]["ts_node_named_child_wasm"]).apply(null,arguments)};var _ts_node_child_by_field_id_wasm=Module["_ts_node_child_by_field_id_wasm"]=function(){return(_ts_node_child_by_field_id_wasm=Module["_ts_node_child_by_field_id_wasm"]=Module["asm"]["ts_node_child_by_field_id_wasm"]).apply(null,arguments)};var _ts_node_next_sibling_wasm=Module["_ts_node_next_sibling_wasm"]=function(){return(_ts_node_next_sibling_wasm=Module["_ts_node_next_sibling_wasm"]=Module["asm"]["ts_node_next_sibling_wasm"]).apply(null,arguments)};var _ts_node_prev_sibling_wasm=Module["_ts_node_prev_sibling_wasm"]=function(){return(_ts_node_prev_sibling_wasm=Module["_ts_node_prev_sibling_wasm"]=Module["asm"]["ts_node_prev_sibling_wasm"]).apply(null,arguments)};var _ts_node_next_named_sibling_wasm=Module["_ts_node_next_named_sibling_wasm"]=function(){return(_ts_node_next_named_sibling_wasm=Module["_ts_node_next_named_sibling_wasm"]=Module["asm"]["ts_node_next_named_sibling_wasm"]).apply(null,arguments)};var _ts_node_prev_named_sibling_wasm=Module["_ts_node_prev_named_sibling_wasm"]=function(){return(_ts_node_prev_named_sibling_wasm=Module["_ts_node_prev_named_sibling_wasm"]=Module["asm"]["ts_node_prev_named_sibling_wasm"]).apply(null,arguments)};var _ts_node_parent_wasm=Module["_ts_node_parent_wasm"]=function(){return(_ts_node_parent_wasm=Module["_ts_node_parent_wasm"]=Module["asm"]["ts_node_parent_wasm"]).apply(null,arguments)};var _ts_node_descendant_for_index_wasm=Module["_ts_node_descendant_for_index_wasm"]=function(){return(_ts_node_descendant_for_index_wasm=Module["_ts_node_descendant_for_index_wasm"]=Module["asm"]["ts_node_descendant_for_index_wasm"]).apply(null,arguments)};var _ts_node_named_descendant_for_index_wasm=Module["_ts_node_named_descendant_for_index_wasm"]=function(){return(_ts_node_named_descendant_for_index_wasm=Module["_ts_node_named_descendant_for_index_wasm"]=Module["asm"]["ts_node_named_descendant_for_index_wasm"]).apply(null,arguments)};var _ts_node_descendant_for_position_wasm=Module["_ts_node_descendant_for_position_wasm"]=function(){return(_ts_node_descendant_for_position_wasm=Module["_ts_node_descendant_for_position_wasm"]=Module["asm"]["ts_node_descendant_for_position_wasm"]).apply(null,arguments)};var _ts_node_named_descendant_for_position_wasm=Module["_ts_node_named_descendant_for_position_wasm"]=function(){return(_ts_node_named_descendant_for_position_wasm=Module["_ts_node_named_descendant_for_position_wasm"]=Module["asm"]["ts_node_named_descendant_for_position_wasm"]).apply(null,arguments)};var _ts_node_start_point_wasm=Module["_ts_node_start_point_wasm"]=function(){return(_ts_node_start_point_wasm=Module["_ts_node_start_point_wasm"]=Module["asm"]["ts_node_start_point_wasm"]).apply(null,arguments)};var _ts_node_end_point_wasm=Module["_ts_node_end_point_wasm"]=function(){return(_ts_node_end_point_wasm=Module["_ts_node_end_point_wasm"]=Module["asm"]["ts_node_end_point_wasm"]).apply(null,arguments)};var _ts_node_start_index_wasm=Module["_ts_node_start_index_wasm"]=function(){return(_ts_node_start_index_wasm=Module["_ts_node_start_index_wasm"]=Module["asm"]["ts_node_start_index_wasm"]).apply(null,arguments)};var _ts_node_end_index_wasm=Module["_ts_node_end_index_wasm"]=function(){return(_ts_node_end_index_wasm=Module["_ts_node_end_index_wasm"]=Module["asm"]["ts_node_end_index_wasm"]).apply(null,arguments)};var _ts_node_to_string_wasm=Module["_ts_node_to_string_wasm"]=function(){return(_ts_node_to_string_wasm=Module["_ts_node_to_string_wasm"]=Module["asm"]["ts_node_to_string_wasm"]).apply(null,arguments)};var _ts_node_children_wasm=Module["_ts_node_children_wasm"]=function(){return(_ts_node_children_wasm=Module["_ts_node_children_wasm"]=Module["asm"]["ts_node_children_wasm"]).apply(null,arguments)};var _ts_node_named_children_wasm=Module["_ts_node_named_children_wasm"]=function(){return(_ts_node_named_children_wasm=Module["_ts_node_named_children_wasm"]=Module["asm"]["ts_node_named_children_wasm"]).apply(null,arguments)};var _ts_node_descendants_of_type_wasm=Module["_ts_node_descendants_of_type_wasm"]=function(){return(_ts_node_descendants_of_type_wasm=Module["_ts_node_descendants_of_type_wasm"]=Module["asm"]["ts_node_descendants_of_type_wasm"]).apply(null,arguments)};var _ts_node_is_named_wasm=Module["_ts_node_is_named_wasm"]=function(){return(_ts_node_is_named_wasm=Module["_ts_node_is_named_wasm"]=Module["asm"]["ts_node_is_named_wasm"]).apply(null,arguments)};var _ts_node_has_changes_wasm=Module["_ts_node_has_changes_wasm"]=function(){return(_ts_node_has_changes_wasm=Module["_ts_node_has_changes_wasm"]=Module["asm"]["ts_node_has_changes_wasm"]).apply(null,arguments)};var _ts_node_has_error_wasm=Module["_ts_node_has_error_wasm"]=function(){return(_ts_node_has_error_wasm=Module["_ts_node_has_error_wasm"]=Module["asm"]["ts_node_has_error_wasm"]).apply(null,arguments)};var _ts_node_is_missing_wasm=Module["_ts_node_is_missing_wasm"]=function(){return(_ts_node_is_missing_wasm=Module["_ts_node_is_missing_wasm"]=Module["asm"]["ts_node_is_missing_wasm"]).apply(null,arguments)};var _ts_query_matches_wasm=Module["_ts_query_matches_wasm"]=function(){return(_ts_query_matches_wasm=Module["_ts_query_matches_wasm"]=Module["asm"]["ts_query_matches_wasm"]).apply(null,arguments)};var _ts_query_captures_wasm=Module["_ts_query_captures_wasm"]=function(){return(_ts_query_captures_wasm=Module["_ts_query_captures_wasm"]=Module["asm"]["ts_query_captures_wasm"]).apply(null,arguments)};var _iswdigit=Module["_iswdigit"]=function(){return(_iswdigit=Module["_iswdigit"]=Module["asm"]["iswdigit"]).apply(null,arguments)};var _iswalpha=Module["_iswalpha"]=function(){return(_iswalpha=Module["_iswalpha"]=Module["asm"]["iswalpha"]).apply(null,arguments)};var _iswlower=Module["_iswlower"]=function(){return(_iswlower=Module["_iswlower"]=Module["asm"]["iswlower"]).apply(null,arguments)};var _towupper=Module["_towupper"]=function(){return(_towupper=Module["_towupper"]=Module["asm"]["towupper"]).apply(null,arguments)};var ___errno_location=Module["___errno_location"]=function(){return(___errno_location=Module["___errno_location"]=Module["asm"]["__errno_location"]).apply(null,arguments)};var _memchr=Module["_memchr"]=function(){return(_memchr=Module["_memchr"]=Module["asm"]["memchr"]).apply(null,arguments)};var _strlen=Module["_strlen"]=function(){return(_strlen=Module["_strlen"]=Module["asm"]["strlen"]).apply(null,arguments)};var stackSave=Module["stackSave"]=function(){return(stackSave=Module["stackSave"]=Module["asm"]["stackSave"]).apply(null,arguments)};var stackRestore=Module["stackRestore"]=function(){return(stackRestore=Module["stackRestore"]=Module["asm"]["stackRestore"]).apply(null,arguments)};var stackAlloc=Module["stackAlloc"]=function(){return(stackAlloc=Module["stackAlloc"]=Module["asm"]["stackAlloc"]).apply(null,arguments)};var __Znwm=Module["__Znwm"]=function(){return(__Znwm=Module["__Znwm"]=Module["asm"]["_Znwm"]).apply(null,arguments)};var __ZdlPv=Module["__ZdlPv"]=function(){return(__ZdlPv=Module["__ZdlPv"]=Module["asm"]["_ZdlPv"]).apply(null,arguments)};var __ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module["__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm"]=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module["__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm"]=Module["asm"]["_ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm"]).apply(null,arguments)};var __ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module["__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev"]=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module["__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev"]=Module["asm"]["_ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev"]).apply(null,arguments)};var __ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module["__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm"]=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module["__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm"]=Module["asm"]["_ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm"]).apply(null,arguments)};var __ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module["__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm"]=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module["__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm"]=Module["asm"]["_ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm"]).apply(null,arguments)};var __ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module["__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc"]=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module["__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc"]=Module["asm"]["_ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc"]).apply(null,arguments)};var __ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module["__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm"]=function(){return(__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module["__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm"]=Module["asm"]["_ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm"]).apply(null,arguments)};var __ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module["__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev"]=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module["__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev"]=Module["asm"]["_ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev"]).apply(null,arguments)};var __ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module["__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw"]=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module["__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw"]=Module["asm"]["_ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw"]).apply(null,arguments)};var __ZNKSt3__220__vector_base_commonILb1EE20__throw_length_errorEv=Module["__ZNKSt3__220__vector_base_commonILb1EE20__throw_length_errorEv"]=function(){return(__ZNKSt3__220__vector_base_commonILb1EE20__throw_length_errorEv=Module["__ZNKSt3__220__vector_base_commonILb1EE20__throw_length_errorEv"]=Module["asm"]["_ZNKSt3__220__vector_base_commonILb1EE20__throw_length_errorEv"]).apply(null,arguments)};var dynCall_ii=Module["dynCall_ii"]=function(){return(dynCall_ii=Module["dynCall_ii"]=Module["asm"]["dynCall_ii"]).apply(null,arguments)};var dynCall_vi=Module["dynCall_vi"]=function(){return(dynCall_vi=Module["dynCall_vi"]=Module["asm"]["dynCall_vi"]).apply(null,arguments)};var dynCall_vii=Module["dynCall_vii"]=function(){return(dynCall_vii=Module["dynCall_vii"]=Module["asm"]["dynCall_vii"]).apply(null,arguments)};var dynCall_iiii=Module["dynCall_iiii"]=function(){return(dynCall_iiii=Module["dynCall_iiii"]=Module["asm"]["dynCall_iiii"]).apply(null,arguments)};var dynCall_viii=Module["dynCall_viii"]=function(){return(dynCall_viii=Module["dynCall_viii"]=Module["asm"]["dynCall_viii"]).apply(null,arguments)};var dynCall_iiiii=Module["dynCall_iiiii"]=function(){return(dynCall_iiiii=Module["dynCall_iiiii"]=Module["asm"]["dynCall_iiiii"]).apply(null,arguments)};var dynCall_iidiiii=Module["dynCall_iidiiii"]=function(){return(dynCall_iidiiii=Module["dynCall_iidiiii"]=Module["asm"]["dynCall_iidiiii"]).apply(null,arguments)};var _orig$ts_parser_timeout_micros=Module["_orig$ts_parser_timeout_micros"]=function(){return(_orig$ts_parser_timeout_micros=Module["_orig$ts_parser_timeout_micros"]=Module["asm"]["orig$ts_parser_timeout_micros"]).apply(null,arguments)};var _orig$ts_parser_set_timeout_micros=Module["_orig$ts_parser_set_timeout_micros"]=function(){return(_orig$ts_parser_set_timeout_micros=Module["_orig$ts_parser_set_timeout_micros"]=Module["asm"]["orig$ts_parser_set_timeout_micros"]).apply(null,arguments)};var ___assign_got_enties=Module["___assign_got_enties"]=function(){return(___assign_got_enties=Module["___assign_got_enties"]=Module["asm"]["__assign_got_enties"]).apply(null,arguments)};var NAMED_GLOBALS={"TRANSFER_BUFFER":1456,"__cxa_new_handler":6096,"__data_end":6936};for(var named in NAMED_GLOBALS){Module["_"+named]=gb+NAMED_GLOBALS[named]}Module["NAMED_GLOBALS"]=NAMED_GLOBALS;for(var named in NAMED_GLOBALS){(function(named){var addr=Module["_"+named];Module["g$_"+named]=function(){return addr}})(named)}Module["allocate"]=allocate;Module["getMemory"]=getMemory;var calledRun;function ExitStatus(status){this.name="ExitStatus";this.message="Program terminated with exit("+status+")";this.status=status}var calledMain=false;dependenciesFulfilled=function runCaller(){if(!calledRun)run();if(!calledRun)dependenciesFulfilled=runCaller};function callMain(args){var entryFunction=Module["_main"];if(!entryFunction)return;var argc=0;var argv=0;try{var ret=entryFunction(argc,argv);exit(ret,true)}catch(e){if(e instanceof ExitStatus){return}else if(e=="unwind"){noExitRuntime=true;return}else{var toLog=e;if(e&&typeof e==="object"&&e.stack){toLog=[e,e.stack]}err("exception thrown: "+toLog);quit_(1,e)}}finally{calledMain=true}}function run(args){args=args||arguments_;if(runDependencies>0){return}preRun();if(runDependencies>0)return;function doRun(){if(calledRun)return;calledRun=true;Module["calledRun"]=true;if(ABORT)return;initRuntime();preMain();if(Module["onRuntimeInitialized"])Module["onRuntimeInitialized"]();if(shouldRunNow)callMain(args);postRun()}if(Module["setStatus"]){Module["setStatus"]("Running...");setTimeout(function(){setTimeout(function(){Module["setStatus"]("")},1);doRun()},1)}else{doRun()}}Module["run"]=run;function exit(status,implicit){if(implicit&&noExitRuntime&&status===0){return}if(noExitRuntime){}else{ABORT=true;EXITSTATUS=status;exitRuntime();if(Module["onExit"])Module["onExit"](status)}quit_(status,new ExitStatus(status))}if(Module["preInit"]){if(typeof Module["preInit"]=="function")Module["preInit"]=[Module["preInit"]];while(Module["preInit"].length>0){Module["preInit"].pop()()}}var shouldRunNow=true;if(Module["noInitialRun"])shouldRunNow=false;noExitRuntime=true;run();const C=Module;const INTERNAL={};const SIZE_OF_INT=4;const SIZE_OF_NODE=5*SIZE_OF_INT;const SIZE_OF_POINT=2*SIZE_OF_INT;const SIZE_OF_RANGE=2*SIZE_OF_INT+2*SIZE_OF_POINT;const ZERO_POINT={row:0,column:0};const QUERY_WORD_REGEX=/[\w-.]*/g;const PREDICATE_STEP_TYPE_CAPTURE=1;const PREDICATE_STEP_TYPE_STRING=2;const LANGUAGE_FUNCTION_REGEX=/^_?tree_sitter_\w+/;var VERSION;var MIN_COMPATIBLE_VERSION;var TRANSFER_BUFFER;var currentParseCallback;var currentLogCallback;var initPromise=new Promise(resolve=>{Module.onRuntimeInitialized=resolve}).then(()=>{TRANSFER_BUFFER=C._ts_init();VERSION=getValue(TRANSFER_BUFFER,"i32");MIN_COMPATIBLE_VERSION=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")});class Parser{static init(){return initPromise}constructor(){if(TRANSFER_BUFFER==null){throw new Error("You must first call Parser.init() and wait for it to resolve.")}C._ts_parser_new_wasm();this[0]=getValue(TRANSFER_BUFFER,"i32");this[1]=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}delete(){C._ts_parser_delete(this[0]);C._free(this[1]);this[0]=0;this[1]=0}setLanguage(language){let address;if(!language){address=0;language=null}else if(language.constructor===Language){address=language[0];const version=C._ts_language_version(address);if(version<MIN_COMPATIBLE_VERSION||VERSION<version){throw new Error(`Incompatible language version ${version}. `+`Compatibility range ${MIN_COMPATIBLE_VERSION} through ${VERSION}.`)}}else{throw new Error("Argument must be a Language")}this.language=language;C._ts_parser_set_language(this[0],address);return this}getLanguage(){return this.language}parse(callback,oldTree,options){if(typeof callback==="string"){currentParseCallback=((index,_,endIndex)=>callback.slice(index,endIndex))}else if(typeof callback==="function"){currentParseCallback=callback}else{throw new Error("Argument must be a string or a function")}if(this.logCallback){currentLogCallback=this.logCallback;C._ts_parser_enable_logger_wasm(this[0],1)}else{currentLogCallback=null;C._ts_parser_enable_logger_wasm(this[0],0)}let rangeCount=0;let rangeAddress=0;if(options&&options.includedRanges){rangeCount=options.includedRanges.length;rangeAddress=C._calloc(rangeCount,SIZE_OF_RANGE);let address=rangeAddress;for(let i=0;i<rangeCount;i++){marshalRange(address,options.includedRanges[i]);address+=SIZE_OF_RANGE}}const treeAddress=C._ts_parser_parse_wasm(this[0],this[1],oldTree?oldTree[0]:0,rangeAddress,rangeCount);if(!treeAddress){currentParseCallback=null;currentLogCallback=null;throw new Error("Parsing failed")}const result=new Tree(INTERNAL,treeAddress,this.language,currentParseCallback);currentParseCallback=null;currentLogCallback=null;return result}reset(){C._ts_parser_reset(this[0])}setTimeoutMicros(timeout){C._ts_parser_set_timeout_micros(this[0],timeout)}getTimeoutMicros(){return C._ts_parser_timeout_micros(this[0])}setLogger(callback){if(!callback){callback=null}else if(typeof callback!=="function"){throw new Error("Logger callback must be a function")}this.logCallback=callback;return this}getLogger(){return this.logCallback}}class Tree{constructor(internal,address,language,textCallback){assertInternal(internal);this[0]=address;this.language=language;this.textCallback=textCallback}copy(){const address=C._ts_tree_copy(this[0]);return new Tree(INTERNAL,address,this.language,this.textCallback)}delete(){C._ts_tree_delete(this[0]);this[0]=0}edit(edit){marshalEdit(edit);C._ts_tree_edit_wasm(this[0])}get rootNode(){C._ts_tree_root_node_wasm(this[0]);return unmarshalNode(this)}getLanguage(){return this.language}walk(){return this.rootNode.walk()}getChangedRanges(other){if(other.constructor!==Tree){throw new TypeError("Argument must be a Tree")}C._ts_tree_get_changed_ranges_wasm(this[0],other[0]);const count=getValue(TRANSFER_BUFFER,"i32");const buffer=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");const result=new Array(count);if(count>0){let address=buffer;for(let i=0;i<count;i++){result[i]=unmarshalRange(address);address+=SIZE_OF_RANGE}C._free(buffer)}return result}}class Node{constructor(internal,tree){assertInternal(internal);this.tree=tree}get typeId(){marshalNode(this);return C._ts_node_symbol_wasm(this.tree[0])}get type(){return this.tree.language.types[this.typeId]||"ERROR"}get endPosition(){marshalNode(this);C._ts_node_end_point_wasm(this.tree[0]);return unmarshalPoint(TRANSFER_BUFFER)}get endIndex(){marshalNode(this);return C._ts_node_end_index_wasm(this.tree[0])}get text(){return getText(this.tree,this.startIndex,this.endIndex)}isNamed(){marshalNode(this);return C._ts_node_is_named_wasm(this.tree[0])===1}hasError(){marshalNode(this);return C._ts_node_has_error_wasm(this.tree[0])===1}hasChanges(){marshalNode(this);return C._ts_node_has_changes_wasm(this.tree[0])===1}isMissing(){marshalNode(this);return C._ts_node_is_missing_wasm(this.tree[0])===1}equals(other){return this.id===other.id}child(index){marshalNode(this);C._ts_node_child_wasm(this.tree[0],index);return unmarshalNode(this.tree)}namedChild(index){marshalNode(this);C._ts_node_named_child_wasm(this.tree[0],index);return unmarshalNode(this.tree)}childForFieldId(fieldId){marshalNode(this);C._ts_node_child_by_field_id_wasm(this.tree[0],fieldId);return unmarshalNode(this.tree)}childForFieldName(fieldName){const fieldId=this.tree.language.fields.indexOf(fieldName);if(fieldId!==-1)return this.childForFieldId(fieldId)}get childCount(){marshalNode(this);return C._ts_node_child_count_wasm(this.tree[0])}get namedChildCount(){marshalNode(this);return C._ts_node_named_child_count_wasm(this.tree[0])}get firstChild(){return this.child(0)}get firstNamedChild(){return this.namedChild(0)}get lastChild(){return this.child(this.childCount-1)}get lastNamedChild(){return this.namedChild(this.namedChildCount-1)}get children(){if(!this._children){marshalNode(this);C._ts_node_children_wasm(this.tree[0]);const count=getValue(TRANSFER_BUFFER,"i32");const buffer=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");this._children=new Array(count);if(count>0){let address=buffer;for(let i=0;i<count;i++){this._children[i]=unmarshalNode(this.tree,address);address+=SIZE_OF_NODE}C._free(buffer)}}return this._children}get namedChildren(){if(!this._namedChildren){marshalNode(this);C._ts_node_named_children_wasm(this.tree[0]);const count=getValue(TRANSFER_BUFFER,"i32");const buffer=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");this._namedChildren=new Array(count);if(count>0){let address=buffer;for(let i=0;i<count;i++){this._namedChildren[i]=unmarshalNode(this.tree,address);address+=SIZE_OF_NODE}C._free(buffer)}}return this._namedChildren}descendantsOfType(types,startPosition,endPosition){if(!Array.isArray(types))types=[types];if(!startPosition)startPosition=ZERO_POINT;if(!endPosition)endPosition=ZERO_POINT;const symbols=[];const typesBySymbol=this.tree.language.types;for(let i=0,n=typesBySymbol.length;i<n;i++){if(types.includes(typesBySymbol[i])){symbols.push(i)}}const symbolsAddress=C._malloc(SIZE_OF_INT*symbols.length);for(let i=0,n=symbols.length;i<n;i++){setValue(symbolsAddress+i*SIZE_OF_INT,symbols[i],"i32")}marshalNode(this);C._ts_node_descendants_of_type_wasm(this.tree[0],symbolsAddress,symbols.length,startPosition.row,startPosition.column,endPosition.row,endPosition.column);const descendantCount=getValue(TRANSFER_BUFFER,"i32");const descendantAddress=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");const result=new Array(descendantCount);if(descendantCount>0){let address=descendantAddress;for(let i=0;i<descendantCount;i++){result[i]=unmarshalNode(this.tree,address);address+=SIZE_OF_NODE}}C._free(descendantAddress);C._free(symbolsAddress);return result}get nextSibling(){marshalNode(this);C._ts_node_next_sibling_wasm(this.tree[0]);return unmarshalNode(this.tree)}get previousSibling(){marshalNode(this);C._ts_node_prev_sibling_wasm(this.tree[0]);return unmarshalNode(this.tree)}get nextNamedSibling(){marshalNode(this);C._ts_node_next_named_sibling_wasm(this.tree[0]);return unmarshalNode(this.tree)}get previousNamedSibling(){marshalNode(this);C._ts_node_prev_named_sibling_wasm(this.tree[0]);return unmarshalNode(this.tree)}get parent(){marshalNode(this);C._ts_node_parent_wasm(this.tree[0]);return unmarshalNode(this.tree)}descendantForIndex(start,end=start){if(typeof start!=="number"||typeof end!=="number"){throw new Error("Arguments must be numbers")}marshalNode(this);let address=TRANSFER_BUFFER+SIZE_OF_NODE;setValue(address,start,"i32");setValue(address+SIZE_OF_INT,end,"i32");C._ts_node_descendant_for_index_wasm(this.tree[0]);return unmarshalNode(this.tree)}namedDescendantForIndex(start,end=start){if(typeof start!=="number"||typeof end!=="number"){throw new Error("Arguments must be numbers")}marshalNode(this);let address=TRANSFER_BUFFER+SIZE_OF_NODE;setValue(address,start,"i32");setValue(address+SIZE_OF_INT,end,"i32");C._ts_node_named_descendant_for_index_wasm(this.tree[0]);return unmarshalNode(this.tree)}descendantForPosition(start,end=start){if(!isPoint(start)||!isPoint(end)){throw new Error("Arguments must be {row, column} objects")}marshalNode(this);let address=TRANSFER_BUFFER+SIZE_OF_NODE;marshalPoint(address,start);marshalPoint(address+SIZE_OF_POINT,end);C._ts_node_descendant_for_position_wasm(this.tree[0]);return unmarshalNode(this.tree)}namedDescendantForPosition(start,end=start){if(!isPoint(start)||!isPoint(end)){throw new Error("Arguments must be {row, column} objects")}marshalNode(this);let address=TRANSFER_BUFFER+SIZE_OF_NODE;marshalPoint(address,start);marshalPoint(address+SIZE_OF_POINT,end);C._ts_node_named_descendant_for_position_wasm(this.tree[0]);return unmarshalNode(this.tree)}walk(){marshalNode(this);C._ts_tree_cursor_new_wasm(this.tree[0]);return new TreeCursor(INTERNAL,this.tree)}toString(){marshalNode(this);const address=C._ts_node_to_string_wasm(this.tree[0]);const result=AsciiToString(address);C._free(address);return result}}class TreeCursor{constructor(internal,tree){assertInternal(internal);this.tree=tree;unmarshalTreeCursor(this)}delete(){marshalTreeCursor(this);C._ts_tree_cursor_delete_wasm(this.tree[0]);this[0]=this[1]=this[2]=0}reset(node){marshalNode(node);marshalTreeCursor(this,TRANSFER_BUFFER+SIZE_OF_NODE);C._ts_tree_cursor_reset_wasm(this.tree[0]);unmarshalTreeCursor(this)}get nodeType(){return this.tree.language.types[this.nodeTypeId]||"ERROR"}get nodeTypeId(){marshalTreeCursor(this);return C._ts_tree_cursor_current_node_type_id_wasm(this.tree[0])}get nodeId(){marshalTreeCursor(this);return C._ts_tree_cursor_current_node_id_wasm(this.tree[0])}get nodeIsNamed(){marshalTreeCursor(this);return C._ts_tree_cursor_current_node_is_named_wasm(this.tree[0])===1}get nodeIsMissing(){marshalTreeCursor(this);return C._ts_tree_cursor_current_node_is_missing_wasm(this.tree[0])===1}get nodeText(){marshalTreeCursor(this);const startIndex=C._ts_tree_cursor_start_index_wasm(this.tree[0]);const endIndex=C._ts_tree_cursor_end_index_wasm(this.tree[0]);return getText(this.tree,startIndex,endIndex)}get startPosition(){marshalTreeCursor(this);C._ts_tree_cursor_start_position_wasm(this.tree[0]);return unmarshalPoint(TRANSFER_BUFFER)}get endPosition(){marshalTreeCursor(this);C._ts_tree_cursor_end_position_wasm(this.tree[0]);return unmarshalPoint(TRANSFER_BUFFER)}get startIndex(){marshalTreeCursor(this);return C._ts_tree_cursor_start_index_wasm(this.tree[0])}get endIndex(){marshalTreeCursor(this);return C._ts_tree_cursor_end_index_wasm(this.tree[0])}currentNode(){marshalTreeCursor(this);C._ts_tree_cursor_current_node_wasm(this.tree[0]);return unmarshalNode(this.tree)}currentFieldId(){marshalTreeCursor(this);return C._ts_tree_cursor_current_field_id_wasm(this.tree[0])}currentFieldName(){return this.tree.language.fields[this.currentFieldId()]}gotoFirstChild(){marshalTreeCursor(this);const result=C._ts_tree_cursor_goto_first_child_wasm(this.tree[0]);unmarshalTreeCursor(this);return result===1}gotoNextSibling(){marshalTreeCursor(this);const result=C._ts_tree_cursor_goto_next_sibling_wasm(this.tree[0]);unmarshalTreeCursor(this);return result===1}gotoParent(){marshalTreeCursor(this);const result=C._ts_tree_cursor_goto_parent_wasm(this.tree[0]);unmarshalTreeCursor(this);return result===1}}class Language{constructor(internal,address){assertInternal(internal);this[0]=address;this.types=new Array(C._ts_language_symbol_count(this[0]));for(let i=0,n=this.types.length;i<n;i++){if(C._ts_language_symbol_type(this[0],i)<2){this.types[i]=UTF8ToString(C._ts_language_symbol_name(this[0],i))}}this.fields=new Array(C._ts_language_field_count(this[0])+1);for(let i=0,n=this.fields.length;i<n;i++){const fieldName=C._ts_language_field_name_for_id(this[0],i);if(fieldName!==0){this.fields[i]=UTF8ToString(fieldName)}else{this.fields[i]=null}}}get version(){return C._ts_language_version(this[0])}get fieldCount(){return this.fields.length-1}fieldIdForName(fieldName){const result=this.fields.indexOf(fieldName);if(result!==-1){return result}else{return null}}fieldNameForId(fieldId){return this.fields[fieldId]||null}idForNodeType(type,named){const typeLength=lengthBytesUTF8(type);const typeAddress=C._malloc(typeLength+1);stringToUTF8(type,typeAddress,typeLength+1);const result=C._ts_language_symbol_for_name(this[0],typeAddress,typeLength,named);C._free(typeAddress);return result||null}get nodeTypeCount(){return C._ts_language_symbol_count(this[0])}nodeTypeForId(typeId){const name=C._ts_language_symbol_name(this[0],typeId);return name?UTF8ToString(name):null}nodeTypeIsNamed(typeId){return C._ts_language_type_is_named_wasm(this[0],typeId)?true:false}nodeTypeIsVisible(typeId){return C._ts_language_type_is_visible_wasm(this[0],typeId)?true:false}query(source){const sourceLength=lengthBytesUTF8(source);const sourceAddress=C._malloc(sourceLength+1);stringToUTF8(source,sourceAddress,sourceLength+1);const address=C._ts_query_new(this[0],sourceAddress,sourceLength,TRANSFER_BUFFER,TRANSFER_BUFFER+SIZE_OF_INT);if(!address){const errorId=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");const errorByte=getValue(TRANSFER_BUFFER,"i32");const errorIndex=UTF8ToString(sourceAddress,errorByte).length;const suffix=source.substr(errorIndex,100).split("\n")[0];let word=suffix.match(QUERY_WORD_REGEX)[0];let error;switch(errorId){case 2:error=new RangeError(`Bad node name '${word}'`);break;case 3:error=new RangeError(`Bad field name '${word}'`);break;case 4:error=new RangeError(`Bad capture name @${word}`);break;case 5:error=new TypeError(`Bad pattern structure at offset ${errorIndex}: '${suffix}'...`);word="";break;default:error=new SyntaxError(`Bad syntax at offset ${errorIndex}: '${suffix}'...`);word="";break}error.index=errorIndex;error.length=word.length;C._free(sourceAddress);throw error}const stringCount=C._ts_query_string_count(address);const captureCount=C._ts_query_capture_count(address);const patternCount=C._ts_query_pattern_count(address);const captureNames=new Array(captureCount);const stringValues=new Array(stringCount);for(let i=0;i<captureCount;i++){const nameAddress=C._ts_query_capture_name_for_id(address,i,TRANSFER_BUFFER);const nameLength=getValue(TRANSFER_BUFFER,"i32");captureNames[i]=UTF8ToString(nameAddress,nameLength)}for(let i=0;i<stringCount;i++){const valueAddress=C._ts_query_string_value_for_id(address,i,TRANSFER_BUFFER);const nameLength=getValue(TRANSFER_BUFFER,"i32");stringValues[i]=UTF8ToString(valueAddress,nameLength)}const setProperties=new Array(patternCount);const assertedProperties=new Array(patternCount);const refutedProperties=new Array(patternCount);const predicates=new Array(patternCount);const textPredicates=new Array(patternCount);for(let i=0;i<patternCount;i++){const predicatesAddress=C._ts_query_predicates_for_pattern(address,i,TRANSFER_BUFFER);const stepCount=getValue(TRANSFER_BUFFER,"i32");predicates[i]=[];textPredicates[i]=[];const steps=[];let stepAddress=predicatesAddress;for(let j=0;j<stepCount;j++){const stepType=getValue(stepAddress,"i32");stepAddress+=SIZE_OF_INT;const stepValueId=getValue(stepAddress,"i32");stepAddress+=SIZE_OF_INT;if(stepType===PREDICATE_STEP_TYPE_CAPTURE){steps.push({type:"capture",name:captureNames[stepValueId]})}else if(stepType===PREDICATE_STEP_TYPE_STRING){steps.push({type:"string",value:stringValues[stepValueId]})}else if(steps.length>0){if(steps[0].type!=="string"){throw new Error("Predicates must begin with a literal value")}const operator=steps[0].value;let isPositive=true;switch(operator){case"not-eq?":isPositive=false;case"eq?":if(steps.length!==3)throw new Error(`Wrong number of arguments to \`#eq?\` predicate. Expected 2, got ${steps.length-1}`);if(steps[1].type!=="capture")throw new Error(`First argument of \`#eq?\` predicate must be a capture. Got "${steps[1].value}"`);if(steps[2].type==="capture"){const captureName1=steps[1].name;const captureName2=steps[2].name;textPredicates[i].push(function(captures){let node1,node2;for(const c of captures){if(c.name===captureName1)node1=c.node;if(c.name===captureName2)node2=c.node}return node1.text===node2.text===isPositive})}else{const captureName=steps[1].name;const stringValue=steps[2].value;textPredicates[i].push(function(captures){for(const c of captures){if(c.name===captureName){return c.node.text===stringValue===isPositive}}return false})}break;case"not-match?":isPositive=false;case"match?":if(steps.length!==3)throw new Error(`Wrong number of arguments to \`#match?\` predicate. Expected 2, got ${steps.length-1}.`);if(steps[1].type!=="capture")throw new Error(`First argument of \`#match?\` predicate must be a capture. Got "${steps[1].value}".`);if(steps[2].type!=="string")throw new Error(`Second argument of \`#match?\` predicate must be a string. Got @${steps[2].value}.`);const captureName=steps[1].name;const regex=new RegExp(steps[2].value);textPredicates[i].push(function(captures){for(const c of captures){if(c.name===captureName)return regex.test(c.node.text)===isPositive}return false});break;case"set!":if(steps.length<2||steps.length>3)throw new Error(`Wrong number of arguments to \`#set!\` predicate. Expected 1 or 2. Got ${steps.length-1}.`);if(steps.some(s=>s.type!=="string"))throw new Error(`Arguments to \`#set!\` predicate must be a strings.".`);if(!setProperties[i])setProperties[i]={};setProperties[i][steps[1].value]=steps[2]?steps[2].value:null;break;case"is?":case"is-not?":if(steps.length<2||steps.length>3)throw new Error(`Wrong number of arguments to \`#${operator}\` predicate. Expected 1 or 2. Got ${steps.length-1}.`);if(steps.some(s=>s.type!=="string"))throw new Error(`Arguments to \`#${operator}\` predicate must be a strings.".`);const properties=operator==="is?"?assertedProperties:refutedProperties;if(!properties[i])properties[i]={};properties[i][steps[1].value]=steps[2]?steps[2].value:null;break;default:predicates[i].push({operator:operator,operands:steps.slice(1)})}steps.length=0}}Object.freeze(setProperties[i]);Object.freeze(assertedProperties[i]);Object.freeze(refutedProperties[i])}C._free(sourceAddress);return new Query(INTERNAL,address,captureNames,textPredicates,predicates,Object.freeze(setProperties),Object.freeze(assertedProperties),Object.freeze(refutedProperties))}static load(input){let bytes;if(input instanceof Uint8Array){bytes=Promise.resolve(input)}else{const url=input;if(typeof process!=="undefined"&&process.versions&&process.versions.node){const fs=require("fs");bytes=Promise.resolve(fs.readFileSync(url))}else{bytes=fetch(url).then(response=>response.arrayBuffer().then(buffer=>{if(response.ok){return new Uint8Array(buffer)}else{const body=new TextDecoder("utf-8").decode(buffer);throw new Error(`Language.load failed with status ${response.status}.\n\n${body}`)}}))}}const loadModule=typeof loadSideModule==="function"?loadSideModule:loadWebAssemblyModule;return bytes.then(bytes=>loadModule(bytes,{loadAsync:true})).then(mod=>{const symbolNames=Object.keys(mod);const functionName=symbolNames.find(key=>LANGUAGE_FUNCTION_REGEX.test(key)&&!key.includes("external_scanner_"));if(!functionName){console.log(`Couldn't find language function in WASM file. Symbols:\n${JSON.stringify(symbolNames,null,2)}`)}const languageAddress=mod[functionName]();return new Language(INTERNAL,languageAddress)})}}class Query{constructor(internal,address,captureNames,textPredicates,predicates,setProperties,assertedProperties,refutedProperties){assertInternal(internal);this[0]=address;this.captureNames=captureNames;this.textPredicates=textPredicates;this.predicates=predicates;this.setProperties=setProperties;this.assertedProperties=assertedProperties;this.refutedProperties=refutedProperties;this.exceededMatchLimit=false}delete(){C._ts_query_delete(this[0]);this[0]=0}matches(node,startPosition,endPosition,options){if(!startPosition)startPosition=ZERO_POINT;if(!endPosition)endPosition=ZERO_POINT;if(!options)options={};let matchLimit=options.matchLimit;if(typeof matchLimit==="undefined"){matchLimit=0}else if(typeof matchLimit!=="number"){throw new Error("Arguments must be numbers")}marshalNode(node);C._ts_query_matches_wasm(this[0],node.tree[0],startPosition.row,startPosition.column,endPosition.row,endPosition.column,matchLimit);const rawCount=getValue(TRANSFER_BUFFER,"i32");const startAddress=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");const didExceedMatchLimit=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32");const result=new Array(rawCount);this.exceededMatchLimit=!!didExceedMatchLimit;let filteredCount=0;let address=startAddress;for(let i=0;i<rawCount;i++){const pattern=getValue(address,"i32");address+=SIZE_OF_INT;const captureCount=getValue(address,"i32");address+=SIZE_OF_INT;const captures=new Array(captureCount);address=unmarshalCaptures(this,node.tree,address,captures);if(this.textPredicates[pattern].every(p=>p(captures))){result[filteredCount++]={pattern:pattern,captures:captures};const setProperties=this.setProperties[pattern];if(setProperties)result[i].setProperties=setProperties;const assertedProperties=this.assertedProperties[pattern];if(assertedProperties)result[i].assertedProperties=assertedProperties;const refutedProperties=this.refutedProperties[pattern];if(refutedProperties)result[i].refutedProperties=refutedProperties}}result.length=filteredCount;C._free(startAddress);return result}captures(node,startPosition,endPosition,options){if(!startPosition)startPosition=ZERO_POINT;if(!endPosition)endPosition=ZERO_POINT;if(!options)options={};let matchLimit=options.matchLimit;if(typeof matchLimit==="undefined"){matchLimit=0}else if(typeof matchLimit!=="number"){throw new Error("Arguments must be numbers")}marshalNode(node);C._ts_query_captures_wasm(this[0],node.tree[0],startPosition.row,startPosition.column,endPosition.row,endPosition.column,matchLimit);const count=getValue(TRANSFER_BUFFER,"i32");const startAddress=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");const didExceedMatchLimit=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32");const result=[];this.exceededMatchLimit=!!didExceedMatchLimit;const captures=[];let address=startAddress;for(let i=0;i<count;i++){const pattern=getValue(address,"i32");address+=SIZE_OF_INT;const captureCount=getValue(address,"i32");address+=SIZE_OF_INT;const captureIndex=getValue(address,"i32");address+=SIZE_OF_INT;captures.length=captureCount;address=unmarshalCaptures(this,node.tree,address,captures);if(this.textPredicates[pattern].every(p=>p(captures))){const capture=captures[captureIndex];const setProperties=this.setProperties[pattern];if(setProperties)capture.setProperties=setProperties;const assertedProperties=this.assertedProperties[pattern];if(assertedProperties)capture.assertedProperties=assertedProperties;const refutedProperties=this.refutedProperties[pattern];if(refutedProperties)capture.refutedProperties=refutedProperties;result.push(capture)}}C._free(startAddress);return result}predicatesForPattern(patternIndex){return this.predicates[patternIndex]}didExceedMatchLimit(){return this.exceededMatchLimit}}function getText(tree,startIndex,endIndex){const length=endIndex-startIndex;let result=tree.textCallback(startIndex,null,endIndex);startIndex+=result.length;while(startIndex<endIndex){const string=tree.textCallback(startIndex,null,endIndex);if(string&&string.length>0){startIndex+=string.length;result+=string}else{break}}if(startIndex>endIndex){result=result.slice(0,length)}return result}function unmarshalCaptures(query,tree,address,result){for(let i=0,n=result.length;i<n;i++){const captureIndex=getValue(address,"i32");address+=SIZE_OF_INT;const node=unmarshalNode(tree,address);address+=SIZE_OF_NODE;result[i]={name:query.captureNames[captureIndex],node:node}}return address}function assertInternal(x){if(x!==INTERNAL)throw new Error("Illegal constructor")}function isPoint(point){return point&&typeof point.row==="number"&&typeof point.column==="number"}function marshalNode(node){let address=TRANSFER_BUFFER;setValue(address,node.id,"i32");address+=SIZE_OF_INT;setValue(address,node.startIndex,"i32");address+=SIZE_OF_INT;setValue(address,node.startPosition.row,"i32");address+=SIZE_OF_INT;setValue(address,node.startPosition.column,"i32");address+=SIZE_OF_INT;setValue(address,node[0],"i32")}function unmarshalNode(tree,address=TRANSFER_BUFFER){const id=getValue(address,"i32");address+=SIZE_OF_INT;if(id===0)return null;const index=getValue(address,"i32");address+=SIZE_OF_INT;const row=getValue(address,"i32");address+=SIZE_OF_INT;const column=getValue(address,"i32");address+=SIZE_OF_INT;const other=getValue(address,"i32");const result=new Node(INTERNAL,tree);result.id=id;result.startIndex=index;result.startPosition={row:row,column:column};result[0]=other;return result}function marshalTreeCursor(cursor,address=TRANSFER_BUFFER){setValue(address+0*SIZE_OF_INT,cursor[0],"i32"),setValue(address+1*SIZE_OF_INT,cursor[1],"i32"),setValue(address+2*SIZE_OF_INT,cursor[2],"i32")}function unmarshalTreeCursor(cursor){cursor[0]=getValue(TRANSFER_BUFFER+0*SIZE_OF_INT,"i32"),cursor[1]=getValue(TRANSFER_BUFFER+1*SIZE_OF_INT,"i32"),cursor[2]=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32")}function marshalPoint(address,point){setValue(address,point.row,"i32");setValue(address+SIZE_OF_INT,point.column,"i32")}function unmarshalPoint(address){return{row:getValue(address,"i32"),column:getValue(address+SIZE_OF_INT,"i32")}}function marshalRange(address,range){marshalPoint(address,range.startPosition);address+=SIZE_OF_POINT;marshalPoint(address,range.endPosition);address+=SIZE_OF_POINT;setValue(address,range.startIndex,"i32");address+=SIZE_OF_INT;setValue(address,range.endIndex,"i32");address+=SIZE_OF_INT}function unmarshalRange(address){const result={};result.startPosition=unmarshalPoint(address);address+=SIZE_OF_POINT;result.endPosition=unmarshalPoint(address);address+=SIZE_OF_POINT;result.startIndex=getValue(address,"i32");address+=SIZE_OF_INT;result.endIndex=getValue(address,"i32");return result}function marshalEdit(edit){let address=TRANSFER_BUFFER;marshalPoint(address,edit.startPosition);address+=SIZE_OF_POINT;marshalPoint(address,edit.oldEndPosition);address+=SIZE_OF_POINT;marshalPoint(address,edit.newEndPosition);address+=SIZE_OF_POINT;setValue(address,edit.startIndex,"i32");address+=SIZE_OF_INT;setValue(address,edit.oldEndIndex,"i32");address+=SIZE_OF_INT;setValue(address,edit.newEndIndex,"i32");address+=SIZE_OF_INT}Parser.Language=Language;Parser.Parser=Parser;return Parser});
